{"version":3,"file":"bundle.js","sources":["../../node_modules/core-js/internals/global.js","../../node_modules/core-js/internals/fails.js","../../node_modules/core-js/internals/descriptors.js","../../node_modules/core-js/internals/object-property-is-enumerable.js","../../node_modules/core-js/internals/create-property-descriptor.js","../../node_modules/core-js/internals/classof-raw.js","../../node_modules/core-js/internals/indexed-object.js","../../node_modules/core-js/internals/require-object-coercible.js","../../node_modules/core-js/internals/to-indexed-object.js","../../node_modules/core-js/internals/is-object.js","../../node_modules/core-js/internals/to-primitive.js","../../node_modules/core-js/internals/has.js","../../node_modules/core-js/internals/document-create-element.js","../../node_modules/core-js/internals/ie8-dom-define.js","../../node_modules/core-js/internals/object-get-own-property-descriptor.js","../../node_modules/core-js/internals/an-object.js","../../node_modules/core-js/internals/object-define-property.js","../../node_modules/core-js/internals/hide.js","../../node_modules/core-js/internals/set-global.js","../../node_modules/core-js/internals/shared.js","../../node_modules/core-js/internals/function-to-string.js","../../node_modules/core-js/internals/native-weak-map.js","../../node_modules/core-js/internals/uid.js","../../node_modules/core-js/internals/shared-key.js","../../node_modules/core-js/internals/hidden-keys.js","../../node_modules/core-js/internals/internal-state.js","../../node_modules/core-js/internals/redefine.js","../../node_modules/core-js/internals/path.js","../../node_modules/core-js/internals/get-built-in.js","../../node_modules/core-js/internals/to-integer.js","../../node_modules/core-js/internals/to-length.js","../../node_modules/core-js/internals/to-absolute-index.js","../../node_modules/core-js/internals/array-includes.js","../../node_modules/core-js/internals/object-keys-internal.js","../../node_modules/core-js/internals/enum-bug-keys.js","../../node_modules/core-js/internals/object-get-own-property-names.js","../../node_modules/core-js/internals/object-get-own-property-symbols.js","../../node_modules/core-js/internals/own-keys.js","../../node_modules/core-js/internals/copy-constructor-properties.js","../../node_modules/core-js/internals/is-forced.js","../../node_modules/core-js/internals/export.js","../../node_modules/core-js/internals/a-function.js","../../node_modules/core-js/internals/function-bind.js","../../node_modules/core-js/modules/es.function.bind.js","../../examples/src/AppObjLoader.js","../../examples/src/AppSimpleScene.js","../../src/math/math.js","../../src/math/vector3.js","../../examples/src/AppNormalMap.js","../../examples/src/AppMirror.js","../../examples/src/AppPostProcessing.js","../../examples/src/main.js"],"sourcesContent":["var O = 'object';\nvar check = function (it) {\n  return it && it.Math == Math && it;\n};\n\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nmodule.exports =\n  // eslint-disable-next-line no-undef\n  check(typeof globalThis == O && globalThis) ||\n  check(typeof window == O && window) ||\n  check(typeof self == O && self) ||\n  check(typeof global == O && global) ||\n  // eslint-disable-next-line no-new-func\n  Function('return this')();\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (error) {\n    return true;\n  }\n};\n","var fails = require('../internals/fails');\n\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !fails(function () {\n  return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;\n});\n","'use strict';\nvar nativePropertyIsEnumerable = {}.propertyIsEnumerable;\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// Nashorn ~ JDK8 bug\nvar NASHORN_BUG = getOwnPropertyDescriptor && !nativePropertyIsEnumerable.call({ 1: 2 }, 1);\n\n// `Object.prototype.propertyIsEnumerable` method implementation\n// https://tc39.github.io/ecma262/#sec-object.prototype.propertyisenumerable\nexports.f = NASHORN_BUG ? function propertyIsEnumerable(V) {\n  var descriptor = getOwnPropertyDescriptor(this, V);\n  return !!descriptor && descriptor.enumerable;\n} : nativePropertyIsEnumerable;\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n","var fails = require('../internals/fails');\nvar classof = require('../internals/classof-raw');\n\nvar split = ''.split;\n\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\nmodule.exports = fails(function () {\n  // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346\n  // eslint-disable-next-line no-prototype-builtins\n  return !Object('z').propertyIsEnumerable(0);\n}) ? function (it) {\n  return classof(it) == 'String' ? split.call(it, '') : Object(it);\n} : Object;\n","// `RequireObjectCoercible` abstract operation\n// https://tc39.github.io/ecma262/#sec-requireobjectcoercible\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on \" + it);\n  return it;\n};\n","// toObject with fallback for non-array-like ES3 strings\nvar IndexedObject = require('../internals/indexed-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nmodule.exports = function (it) {\n  return IndexedObject(requireObjectCoercible(it));\n};\n","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n","var isObject = require('../internals/is-object');\n\n// `ToPrimitive` abstract operation\n// https://tc39.github.io/ecma262/#sec-toprimitive\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (input, PREFERRED_STRING) {\n  if (!isObject(input)) return input;\n  var fn, val;\n  if (PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (typeof (fn = input.valueOf) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (!PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n","var hasOwnProperty = {}.hasOwnProperty;\n\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n","var global = require('../internals/global');\nvar isObject = require('../internals/is-object');\n\nvar document = global.document;\n// typeof document.createElement is 'object' in old IE\nvar EXISTS = isObject(document) && isObject(document.createElement);\n\nmodule.exports = function (it) {\n  return EXISTS ? document.createElement(it) : {};\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar createElement = require('../internals/document-create-element');\n\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !DESCRIPTORS && !fails(function () {\n  return Object.defineProperty(createElement('div'), 'a', {\n    get: function () { return 7; }\n  }).a != 7;\n});\n","var DESCRIPTORS = require('../internals/descriptors');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toPrimitive = require('../internals/to-primitive');\nvar has = require('../internals/has');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\n\nvar nativeGetOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.github.io/ecma262/#sec-object.getownpropertydescriptor\nexports.f = DESCRIPTORS ? nativeGetOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {\n  O = toIndexedObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return nativeGetOwnPropertyDescriptor(O, P);\n  } catch (error) { /* empty */ }\n  if (has(O, P)) return createPropertyDescriptor(!propertyIsEnumerableModule.f.call(O, P), O[P]);\n};\n","var isObject = require('../internals/is-object');\n\nmodule.exports = function (it) {\n  if (!isObject(it)) {\n    throw TypeError(String(it) + ' is not an object');\n  } return it;\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\nvar anObject = require('../internals/an-object');\nvar toPrimitive = require('../internals/to-primitive');\n\nvar nativeDefineProperty = Object.defineProperty;\n\n// `Object.defineProperty` method\n// https://tc39.github.io/ecma262/#sec-object.defineproperty\nexports.f = DESCRIPTORS ? nativeDefineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return nativeDefineProperty(O, P, Attributes);\n  } catch (error) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = DESCRIPTORS ? function (object, key, value) {\n  return definePropertyModule.f(object, key, createPropertyDescriptor(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","var global = require('../internals/global');\nvar hide = require('../internals/hide');\n\nmodule.exports = function (key, value) {\n  try {\n    hide(global, key, value);\n  } catch (error) {\n    global[key] = value;\n  } return value;\n};\n","var global = require('../internals/global');\nvar setGlobal = require('../internals/set-global');\nvar IS_PURE = require('../internals/is-pure');\n\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || setGlobal(SHARED, {});\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: '3.2.1',\n  mode: IS_PURE ? 'pure' : 'global',\n  copyright: '© 2019 Denis Pushkarev (zloirock.ru)'\n});\n","var shared = require('../internals/shared');\n\nmodule.exports = shared('native-function-to-string', Function.toString);\n","var global = require('../internals/global');\nvar nativeFunctionToString = require('../internals/function-to-string');\n\nvar WeakMap = global.WeakMap;\n\nmodule.exports = typeof WeakMap === 'function' && /native code/.test(nativeFunctionToString.call(WeakMap));\n","var id = 0;\nvar postfix = Math.random();\n\nmodule.exports = function (key) {\n  return 'Symbol(' + String(key === undefined ? '' : key) + ')_' + (++id + postfix).toString(36);\n};\n","var shared = require('../internals/shared');\nvar uid = require('../internals/uid');\n\nvar keys = shared('keys');\n\nmodule.exports = function (key) {\n  return keys[key] || (keys[key] = uid(key));\n};\n","module.exports = {};\n","var NATIVE_WEAK_MAP = require('../internals/native-weak-map');\nvar global = require('../internals/global');\nvar isObject = require('../internals/is-object');\nvar hide = require('../internals/hide');\nvar objectHas = require('../internals/has');\nvar sharedKey = require('../internals/shared-key');\nvar hiddenKeys = require('../internals/hidden-keys');\n\nvar WeakMap = global.WeakMap;\nvar set, get, has;\n\nvar enforce = function (it) {\n  return has(it) ? get(it) : set(it, {});\n};\n\nvar getterFor = function (TYPE) {\n  return function (it) {\n    var state;\n    if (!isObject(it) || (state = get(it)).type !== TYPE) {\n      throw TypeError('Incompatible receiver, ' + TYPE + ' required');\n    } return state;\n  };\n};\n\nif (NATIVE_WEAK_MAP) {\n  var store = new WeakMap();\n  var wmget = store.get;\n  var wmhas = store.has;\n  var wmset = store.set;\n  set = function (it, metadata) {\n    wmset.call(store, it, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return wmget.call(store, it) || {};\n  };\n  has = function (it) {\n    return wmhas.call(store, it);\n  };\n} else {\n  var STATE = sharedKey('state');\n  hiddenKeys[STATE] = true;\n  set = function (it, metadata) {\n    hide(it, STATE, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return objectHas(it, STATE) ? it[STATE] : {};\n  };\n  has = function (it) {\n    return objectHas(it, STATE);\n  };\n}\n\nmodule.exports = {\n  set: set,\n  get: get,\n  has: has,\n  enforce: enforce,\n  getterFor: getterFor\n};\n","var global = require('../internals/global');\nvar shared = require('../internals/shared');\nvar hide = require('../internals/hide');\nvar has = require('../internals/has');\nvar setGlobal = require('../internals/set-global');\nvar nativeFunctionToString = require('../internals/function-to-string');\nvar InternalStateModule = require('../internals/internal-state');\n\nvar getInternalState = InternalStateModule.get;\nvar enforceInternalState = InternalStateModule.enforce;\nvar TEMPLATE = String(nativeFunctionToString).split('toString');\n\nshared('inspectSource', function (it) {\n  return nativeFunctionToString.call(it);\n});\n\n(module.exports = function (O, key, value, options) {\n  var unsafe = options ? !!options.unsafe : false;\n  var simple = options ? !!options.enumerable : false;\n  var noTargetGet = options ? !!options.noTargetGet : false;\n  if (typeof value == 'function') {\n    if (typeof key == 'string' && !has(value, 'name')) hide(value, 'name', key);\n    enforceInternalState(value).source = TEMPLATE.join(typeof key == 'string' ? key : '');\n  }\n  if (O === global) {\n    if (simple) O[key] = value;\n    else setGlobal(key, value);\n    return;\n  } else if (!unsafe) {\n    delete O[key];\n  } else if (!noTargetGet && O[key]) {\n    simple = true;\n  }\n  if (simple) O[key] = value;\n  else hide(O, key, value);\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n})(Function.prototype, 'toString', function toString() {\n  return typeof this == 'function' && getInternalState(this).source || nativeFunctionToString.call(this);\n});\n","module.exports = require('../internals/global');\n","var path = require('../internals/path');\nvar global = require('../internals/global');\n\nvar aFunction = function (variable) {\n  return typeof variable == 'function' ? variable : undefined;\n};\n\nmodule.exports = function (namespace, method) {\n  return arguments.length < 2 ? aFunction(path[namespace]) || aFunction(global[namespace])\n    : path[namespace] && path[namespace][method] || global[namespace] && global[namespace][method];\n};\n","var ceil = Math.ceil;\nvar floor = Math.floor;\n\n// `ToInteger` abstract operation\n// https://tc39.github.io/ecma262/#sec-tointeger\nmodule.exports = function (argument) {\n  return isNaN(argument = +argument) ? 0 : (argument > 0 ? floor : ceil)(argument);\n};\n","var toInteger = require('../internals/to-integer');\n\nvar min = Math.min;\n\n// `ToLength` abstract operation\n// https://tc39.github.io/ecma262/#sec-tolength\nmodule.exports = function (argument) {\n  return argument > 0 ? min(toInteger(argument), 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991\n};\n","var toInteger = require('../internals/to-integer');\n\nvar max = Math.max;\nvar min = Math.min;\n\n// Helper for a popular repeating case of the spec:\n// Let integer be ? ToInteger(index).\n// If integer < 0, let result be max((length + integer), 0); else let result be min(length, length).\nmodule.exports = function (index, length) {\n  var integer = toInteger(index);\n  return integer < 0 ? max(integer + length, 0) : min(integer, length);\n};\n","var toIndexedObject = require('../internals/to-indexed-object');\nvar toLength = require('../internals/to-length');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\n\n// `Array.prototype.{ indexOf, includes }` methods implementation\nvar createMethod = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIndexedObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) {\n      if ((IS_INCLUDES || index in O) && O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.includes` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.includes\n  includes: createMethod(true),\n  // `Array.prototype.indexOf` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.indexof\n  indexOf: createMethod(false)\n};\n","var has = require('../internals/has');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar indexOf = require('../internals/array-includes').indexOf;\nvar hiddenKeys = require('../internals/hidden-keys');\n\nmodule.exports = function (object, names) {\n  var O = toIndexedObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) !has(hiddenKeys, key) && has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~indexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n","// IE8- don't enum bug keys\nmodule.exports = [\n  'constructor',\n  'hasOwnProperty',\n  'isPrototypeOf',\n  'propertyIsEnumerable',\n  'toLocaleString',\n  'toString',\n  'valueOf'\n];\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\nvar hiddenKeys = enumBugKeys.concat('length', 'prototype');\n\n// `Object.getOwnPropertyNames` method\n// https://tc39.github.io/ecma262/#sec-object.getownpropertynames\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return internalObjectKeys(O, hiddenKeys);\n};\n","exports.f = Object.getOwnPropertySymbols;\n","var getBuiltIn = require('../internals/get-built-in');\nvar getOwnPropertyNamesModule = require('../internals/object-get-own-property-names');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar anObject = require('../internals/an-object');\n\n// all object keys, includes non-enumerable and symbols\nmodule.exports = getBuiltIn('Reflect', 'ownKeys') || function ownKeys(it) {\n  var keys = getOwnPropertyNamesModule.f(anObject(it));\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  return getOwnPropertySymbols ? keys.concat(getOwnPropertySymbols(it)) : keys;\n};\n","var has = require('../internals/has');\nvar ownKeys = require('../internals/own-keys');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar definePropertyModule = require('../internals/object-define-property');\n\nmodule.exports = function (target, source) {\n  var keys = ownKeys(source);\n  var defineProperty = definePropertyModule.f;\n  var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    if (!has(target, key)) defineProperty(target, key, getOwnPropertyDescriptor(source, key));\n  }\n};\n","var fails = require('../internals/fails');\n\nvar replacement = /#|\\.prototype\\./;\n\nvar isForced = function (feature, detection) {\n  var value = data[normalize(feature)];\n  return value == POLYFILL ? true\n    : value == NATIVE ? false\n    : typeof detection == 'function' ? fails(detection)\n    : !!detection;\n};\n\nvar normalize = isForced.normalize = function (string) {\n  return String(string).replace(replacement, '.').toLowerCase();\n};\n\nvar data = isForced.data = {};\nvar NATIVE = isForced.NATIVE = 'N';\nvar POLYFILL = isForced.POLYFILL = 'P';\n\nmodule.exports = isForced;\n","var global = require('../internals/global');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar hide = require('../internals/hide');\nvar redefine = require('../internals/redefine');\nvar setGlobal = require('../internals/set-global');\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\nvar isForced = require('../internals/is-forced');\n\n/*\n  options.target      - name of the target object\n  options.global      - target is the global object\n  options.stat        - export as static methods of target\n  options.proto       - export as prototype methods of target\n  options.real        - real prototype method for the `pure` version\n  options.forced      - export even if the native feature is available\n  options.bind        - bind methods to the target, required for the `pure` version\n  options.wrap        - wrap constructors to preventing global pollution, required for the `pure` version\n  options.unsafe      - use the simple assignment of property instead of delete + defineProperty\n  options.sham        - add a flag to not completely full polyfills\n  options.enumerable  - export as enumerable property\n  options.noTargetGet - prevent calling a getter on target\n*/\nmodule.exports = function (options, source) {\n  var TARGET = options.target;\n  var GLOBAL = options.global;\n  var STATIC = options.stat;\n  var FORCED, target, key, targetProperty, sourceProperty, descriptor;\n  if (GLOBAL) {\n    target = global;\n  } else if (STATIC) {\n    target = global[TARGET] || setGlobal(TARGET, {});\n  } else {\n    target = (global[TARGET] || {}).prototype;\n  }\n  if (target) for (key in source) {\n    sourceProperty = source[key];\n    if (options.noTargetGet) {\n      descriptor = getOwnPropertyDescriptor(target, key);\n      targetProperty = descriptor && descriptor.value;\n    } else targetProperty = target[key];\n    FORCED = isForced(GLOBAL ? key : TARGET + (STATIC ? '.' : '#') + key, options.forced);\n    // contained in target\n    if (!FORCED && targetProperty !== undefined) {\n      if (typeof sourceProperty === typeof targetProperty) continue;\n      copyConstructorProperties(sourceProperty, targetProperty);\n    }\n    // add a flag to not completely full polyfills\n    if (options.sham || (targetProperty && targetProperty.sham)) {\n      hide(sourceProperty, 'sham', true);\n    }\n    // extend global\n    redefine(target, key, sourceProperty, options);\n  }\n};\n","module.exports = function (it) {\n  if (typeof it != 'function') {\n    throw TypeError(String(it) + ' is not a function');\n  } return it;\n};\n","'use strict';\nvar aFunction = require('../internals/a-function');\nvar isObject = require('../internals/is-object');\n\nvar slice = [].slice;\nvar factories = {};\n\nvar construct = function (C, argsLength, args) {\n  if (!(argsLength in factories)) {\n    for (var list = [], i = 0; i < argsLength; i++) list[i] = 'a[' + i + ']';\n    // eslint-disable-next-line no-new-func\n    factories[argsLength] = Function('C,a', 'return new C(' + list.join(',') + ')');\n  } return factories[argsLength](C, args);\n};\n\n// `Function.prototype.bind` method implementation\n// https://tc39.github.io/ecma262/#sec-function.prototype.bind\nmodule.exports = Function.bind || function bind(that /* , ...args */) {\n  var fn = aFunction(this);\n  var partArgs = slice.call(arguments, 1);\n  var boundFunction = function bound(/* args... */) {\n    var args = partArgs.concat(slice.call(arguments));\n    return this instanceof boundFunction ? construct(fn, args.length, args) : fn.apply(that, args);\n  };\n  if (isObject(fn.prototype)) boundFunction.prototype = fn.prototype;\n  return boundFunction;\n};\n","var $ = require('../internals/export');\nvar bind = require('../internals/function-bind');\n\n// `Function.prototype.bind` method\n// https://tc39.github.io/ecma262/#sec-function.prototype.bind\n$({ target: 'Function', proto: true }, {\n  bind: bind\n});\n","//此例子演示的是引擎开发早期载入obj格式模式，并使用shader进行渲染。\r\n//此时尚没有材质系统，保留这个例子是为了更好的演示基础知识\r\n\r\nlet vs_file = './shaders/basic_light.vs';\r\nlet fs_file = './shaders/basic_light.fs';\r\nlet obj_file = './models/dragon.obj';\r\n\r\n\r\nclass AppObjLoader{\r\n    constructor(){\r\n        this._inited = false;\r\n        this._mesh = null;\r\n        this._shader = null;       \r\n        \r\n        this._viewMatrix = new mini3d.Matrix4();\r\n        this._modelMatrix = new mini3d.Matrix4();\r\n        this._viewProjMatrix = new mini3d.Matrix4();\r\n        this._mvpMatrix = new mini3d.Matrix4();\r\n        this._normalMatrix = new mini3d.Matrix4();\r\n        this._rotationQuat = new mini3d.Quaternion();\r\n        this._matRot = new mini3d.Matrix4();\r\n\r\n        this._rotX = 0;\r\n        this._rotY = 0;\r\n    }\r\n\r\n    onInit(){\r\n        let assetList = [\r\n            [vs_file, mini3d.AssetType.Text],\r\n            [fs_file, mini3d.AssetType.Text],\r\n            [obj_file, mini3d.AssetType.Text]\r\n        ]\r\n    \r\n        mini3d.assetManager.loadAssetList(assetList, function(){                \r\n            this._inited = true;\r\n            this.start();\r\n        }.bind(this));\r\n\r\n        this._viewMatrix.setViewByLookAt(.0, .0, 8.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0);\r\n    }\r\n\r\n    onResize(width, height){\r\n        this._viewProjMatrix.setPerspective(60.0, width/height, 1.0, 100.0);\r\n        this._viewProjMatrix.multiply(this._viewMatrix);\r\n\r\n        if(this._inited){            \r\n            this.draw();\r\n        }  \r\n    }\r\n\r\n    onUpdate(dt){\r\n\r\n    }\r\n\r\n    start(){\r\n        let gl = mini3d.gl;\r\n    \r\n        let vs = mini3d.assetManager.getAsset(vs_file).data;\r\n        let fs = mini3d.assetManager.getAsset(fs_file).data;\r\n    \r\n        let shader = new mini3d.Shader();\r\n        if(!shader.create(vs, fs)){\r\n            console.log(\"Failed to initialize shaders\");\r\n            return;\r\n        }\r\n    \r\n        this._shader = shader;\r\n        this._shader.mapAttributeSemantic(mini3d.VertexSemantic.POSITION, 'a_Position');\r\n        this._shader.mapAttributeSemantic(mini3d.VertexSemantic.NORMAL, 'a_Normal');\r\n        this._shader.use();        \r\n    \r\n        let objFileString = mini3d.assetManager.getAsset(obj_file).data;\r\n        this._mesh = mini3d.objFileLoader.load(objFileString, 0.3);                    \r\n        \r\n        let that = this;\r\n        mini3d.eventManager.addEventHandler(mini3d.SystemEvent.touchMove, function(event, data){                           \r\n            let factor = 1;      \r\n            let dx = data.dx * factor;\r\n            let dy = data.dy * factor;    \r\n            \r\n            let clampAngle = function(angle, min, max){\r\n                if(angle<-360) angle+=360;\r\n                if(angle>360) angle-=360;\r\n                return Math.max(Math.min(angle, max), min);\r\n            }\r\n            that._rotX = clampAngle(that._rotX + dy, -90.0, 90.0);\r\n            that._rotY += dx;  \r\n    \r\n            //先旋转qy,再旋转qx\r\n            let qx = mini3d.Quaternion.axisAngle(mini3d.Vector3.Right, that._rotX);\r\n            let qy = mini3d.Quaternion.axisAngle(mini3d.Vector3.Up, that._rotY);\r\n            mini3d.Quaternion.multiply(qx, qy, that._rotationQuat);\r\n    \r\n            //欧拉角的约定是先x后y,不是这里要的\r\n            //that._rotationQuat.setFromEulerAngles(new mini3d.Vector3(that._rotX, that._rotY, 0));\r\n    \r\n            mini3d.Quaternion.toMatrix4(that._rotationQuat, that._matRot);\r\n            \r\n            that.draw();\r\n        })\r\n        \r\n    \r\n        gl.clearColor(0, 0, 0, 1);\r\n        gl.clearDepth(1.0);\r\n        gl.enable(gl.DEPTH_TEST);\r\n    \r\n        this.draw();\r\n    }\r\n\r\n    draw(){         \r\n        this._modelMatrix.setTranslate(0, -1.0, 0);               \r\n        this._modelMatrix.multiply(this._matRot);\r\n        this._modelMatrix.scale(1.0, 1.0, 1.0);\r\n    \r\n        this._normalMatrix.setInverseOf(this._modelMatrix)\r\n        this._normalMatrix.transpose();    \r\n    \r\n        this._mvpMatrix.set(this._viewProjMatrix);\r\n        this._mvpMatrix.multiply(this._modelMatrix);\r\n        \r\n        this._shader.setUniform('u_mvpMatrix', this._mvpMatrix.elements);\r\n        this._shader.setUniform('u_NormalMatrix', this._normalMatrix.elements);\r\n        this._shader.setUniform('u_LightColor', [1.0,1.0,1.0]);\r\n        let lightDir = [0.5, 3.0, 4.0];\r\n        this._shader.setUniform('u_LightDir', lightDir);\r\n    \r\n        let gl = mini3d.gl;\r\n        gl.clear(gl.COLOR_BUFFER_BIT|gl.DEPTH_BUFFER_BIT);\r\n        this._mesh.render(this._shader);\r\n    \r\n    }\r\n}\r\n\r\nexport default AppObjLoader;","let obj_file_capsule = './models/capsule.obj';\r\nlet obj_file_sphere = './models/sphere.obj';\r\nlet obj_main_texture = './imgs/wall01_diffuse.jpg';\r\nlet plane_main_texture = './imgs/wall02_diffuse.png';\r\nlet proj_texture = './imgs/t1.png';\r\n\r\nclass AppSimpleScene {\r\n    constructor() {             \r\n        this._time = 0;        \r\n        this._rotDegree = 0;\r\n        this._tempQuat = new mini3d.Quaternion();\r\n        this._tempVec3 = new mini3d.Vector3();\r\n    }\r\n\r\n    onInit() {\r\n        let assetList = [\r\n            [obj_file_capsule, mini3d.AssetType.Text],\r\n            [obj_file_sphere, mini3d.AssetType.Text],\r\n            [obj_main_texture, mini3d.AssetType.Image],\r\n            [plane_main_texture, mini3d.AssetType.Image],\r\n            [proj_texture, mini3d.AssetType.Image]\r\n        ]\r\n\r\n        mini3d.assetManager.loadAssetList(assetList, function () {            \r\n            this.start();\r\n        }.bind(this));\r\n    }\r\n\r\n    onResize(width, height) {\r\n        if (this._scene) {\r\n            this._scene.onScreenResize(width, height);\r\n        }\r\n    }    \r\n\r\n    start() {\r\n        this.createWorld();\r\n        \r\n        mini3d.eventManager.addEventHandler(mini3d.SystemEvent.touchMove, function (event, data) {\r\n            let factor = 0.01;\r\n            let dx = data.dx;\r\n            let dy = data.dy;\r\n\r\n            this._tempVec3.copyFrom(this._mesh2.localPosition);\r\n            this._tempVec3.z += dy * factor;\r\n            this._tempVec3.x += dx * factor;\r\n            this._mesh2.localPosition = this._tempVec3;\r\n\r\n        }.bind(this));\r\n    }\r\n\r\n    createWorld() {\r\n\r\n        // Load meshes\r\n        let capusleData = mini3d.assetManager.getAsset(obj_file_capsule).data;\r\n        let capusleMesh = mini3d.objFileLoader.load(capusleData, 1.0, true);\r\n\r\n        let sphereData = mini3d.assetManager.getAsset(obj_file_sphere).data;\r\n        let sphereMesh = mini3d.objFileLoader.load(sphereData, 1.0);\r\n\r\n        \r\n        // Create scene\r\n        this._scene = new mini3d.Scene();\r\n\r\n        // Create a plane\r\n        let planeMesh = mini3d.Plane.createMesh(20, 20, 20, 20);\r\n        let matPlane = new mini3d.MatPixelLight();\r\n        matPlane.mainTexture = mini3d.textureManager.getTexture(plane_main_texture);\r\n        matPlane.mainTexture.setRepeat();\r\n        matPlane.mainTextureST = [2,2,0,0];\r\n        matPlane.specular = [0.8, 0.8, 0.8];\r\n        this._planeNode = this._scene.root.addMeshNode(planeMesh, matPlane);\r\n        this._planeNode.localPosition.set(0,0,0);    \r\n        \r\n        let planeNode2 = this._scene.root.addMeshNode(planeMesh, matPlane);\r\n        planeNode2.localPosition.set(0,0,-10); \r\n        planeNode2.localRotation.setFromEulerAngles(new mini3d.Vector3(90,0,0));\r\n\r\n        // Create an empty mesh root node\r\n        let meshRoot = this._scene.root.addEmptyNode();        \r\n        //meshRoot.localPosition.set(-1, 1, 1);\r\n        //meshRoot.localScale.set(0.8, 1, 1);\r\n        //meshRoot.localRotation.setFromAxisAngle(new mini3d.Vector3(0, 1, 0), 45);\r\n\r\n        // Create mesh node 1\r\n        let material1 = new mini3d.MatPixelLight();\r\n        material1.mainTexture = mini3d.textureManager.getTexture(obj_main_texture);\r\n        material1.colorTint = [1.0, 1.0, 1.0];\r\n        material1.specular = [0.8, 0.8, 0.8];\r\n\r\n        this._mesh1 = meshRoot.addMeshNode(capusleMesh, material1);\r\n        this._mesh1.localPosition.set(1, 1, 0);        \r\n        \r\n        // Create mesh node 2\r\n        let material2 = new mini3d.MatPixelLight();\r\n        material2.mainTexture = mini3d.textureManager.getTexture(obj_main_texture);\r\n        material2.colorTint = [1.0, 1.0, 1.0];\r\n        material2.specular = [0.8, 0.8, 0.8];\r\n        material2.gloss = 20;\r\n\r\n        this._mesh2 = meshRoot.addMeshNode(capusleMesh, material2);\r\n        this._mesh2.localPosition.set(-1, 1, 0);\r\n        this._mesh2.localScale.set(1, 1, 1);\r\n        \r\n        // Add a directional light node to scene\r\n        let mainLight = this._scene.root.addDirectionalLight([0.5,0.5,0.5]);\r\n        //this._tempQuat.setFromEulerAngles(this._tempVec3.set(135,45,0));\r\n        //mainLight.localRotation = this._tempQuat;\r\n        mainLight.lookAt(this._tempVec3.set(-1,-1,-1));\r\n\r\n        // Add point light 1\r\n        let lightColor = [0,0.1,0];\r\n        let pointLight = this._scene.root.addPointLight(lightColor,10);\r\n        pointLight.localPosition.set(-5, 6, 0);\r\n        let lightball = pointLight.addMeshNode(sphereMesh, new mini3d.MatSolidColor([0.3,0.9,0.3])); //点光源身上放一个小球以显示他的位置   \r\n        lightball.localScale.set(0.5,0.5,0.5);\r\n        this._pointLight1 = pointLight;             \r\n\r\n        // Add point light 2\r\n        lightColor = [0.1,0,0];\r\n        pointLight = this._scene.root.addPointLight(lightColor,10);\r\n        pointLight.localPosition.set(5, 6, 0);\r\n        lightball = pointLight.addMeshNode(sphereMesh, new mini3d.MatSolidColor([0.9,0.3,0.3]));\r\n        lightball.localScale.set(0.5,0.5,0.5);\r\n        this._pointLight2 = pointLight;\r\n        \r\n        // Add a perspective camera\r\n        this._cameraNode = this._scene.root.addPerspectiveCamera(60, mini3d.canvas.width / mini3d.canvas.height, 1.0, 1000);        \r\n        this._cameraNode.localPosition.set(0, 10, 10);\r\n        this._cameraNode.lookAt(new mini3d.Vector3(0, 0, 0));\r\n        this._cameraNode.camera.clearColor = [0.2,0.5,0.5];\r\n\r\n        // Add projector\r\n        this._projector = this._scene.root.addProjector(60, 1.0, 1.0, 1000.0);\r\n        this._projector.localPosition.set(0, 3, 0);\r\n        this._projector.lookAt(new mini3d.Vector3(0, 0, 0));\r\n        this._projector.projector.material.projTexture = mini3d.textureManager.getTexture(proj_texture);\r\n\r\n    }\r\n\r\n    onUpdate(dt) {\r\n        if (this._scene) {\r\n            this._time += dt;\r\n            this._scene.update();\r\n\r\n            //mesh2自动旋转\r\n            if(true){\r\n                this._mesh2.localRotation.setFromEulerAngles(new mini3d.Vector3(this._rotDegree, this._rotDegree, this._rotDegree));\r\n                this._mesh2.localPosition.y = (0.5+0.5*Math.cos(mini3d.math.degToRad(this._rotDegree)))*5;\r\n                this._mesh2.setTransformDirty();\r\n                this._rotDegree += dt*100/1000;\r\n                this._rotDegree %= 360;                       \r\n            }\r\n\r\n            //mesh1看向mesh2\r\n            this._mesh1.lookAt(this._mesh2.worldPosition, mini3d.Vector3.Up, 0.1);                    \r\n           \r\n            //灯光做圆周运动\r\n            let cosv = Math.cos(this._time/1000);\r\n            let sinv = Math.sin(this._time/1000);\r\n            let radius = 5;\r\n            \r\n            this._pointLight1.localPosition.x = radius*cosv*cosv;\r\n            this._pointLight1.localPosition.z = radius*sinv*cosv;\r\n            this._pointLight1.localPosition.y = 1+radius*(0.5+0.5*sinv);\r\n            this._pointLight1.setTransformDirty();\r\n\r\n            this._pointLight2.localPosition.x = -radius*cosv*cosv;\r\n            this._pointLight2.localPosition.z = -radius*sinv*cosv;\r\n            this._pointLight2.localPosition.y = 1+radius*(0.5+0.5*sinv);\r\n            this._pointLight2.setTransformDirty();\r\n\r\n            //move projector\r\n            this._projector.localPosition.x = radius*cosv;\r\n            this._projector.localPosition.z = radius*sinv;\r\n            this._projector.localRotation.setFromEulerAngles(new mini3d.Vector3(60*sinv,0,0));\r\n            this._projector.setTransformDirty();\r\n           \r\n            this._scene.render();\r\n        }\r\n    }\r\n}\r\n\r\nexport default AppSimpleScene;","\r\nclass MathUtils{\r\n    constructor(){\r\n        this.Pi = 3.141592654;\r\n        this.TwoPi = 6.283185307;\r\n        this.HalfPi = 1.570796327;\r\n\r\n        this.Epsilon = 0.000001;\r\n        this.ZeroEpsilon = 32.0 * 1.175494351e-38; // Very small epsilon for checking against 0.0f\r\n    }\r\n\r\n    degToRad(degree){\r\n        return degree * 0.017453293;\r\n    }\r\n\r\n    radToDeg(rad){\r\n        return rad * 57.29577951;\r\n    }\r\n\r\n    clamp(f, min, max){\r\n        if(f<min) f = min;\r\n        else if(f>max) f = max;\r\n        return f;\r\n    }\r\n}\r\n\r\nlet math = new MathUtils();\r\n\r\nexport { math };","import { math } from \"./math\";\r\n\r\nclass Vector3{\r\n    constructor(x=0,y=0,z=0){\r\n        this.x = x;\r\n        this.y = y;\r\n        this.z = z;\r\n    }\r\n\r\n    clone(){\r\n        return new Vector3(this.x, this.y, this.z);\r\n    }\r\n\r\n    set(x,y,z){\r\n        this.x = x;\r\n        this.y = y;\r\n        this.z = z;\r\n        return this;\r\n    }\r\n\r\n    length(){\r\n        return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z);\r\n    }\r\n\r\n    lengthSquare(){\r\n        return this.x*this.x+this.y*this.y+this.z*this.z;\r\n    }\r\n\r\n    equals(rhs){\r\n        let eps = math.Epsilon;\r\n        return (this.x > rhs.x - eps && this.x < rhs.x + eps &&\r\n                this.y > rhs.y - eps && this.y < rhs.y + eps &&\r\n                this.z > rhs.z - eps && this.z < rhs.z + eps);\r\n    }\r\n\r\n    copyFrom(rhs){\r\n        this.x = rhs.x;\r\n        this.y = rhs.y;\r\n        this.z = rhs.z;\r\n        return this;\r\n    }\r\n\r\n    negative(){\r\n        this.x = -this.x;\r\n        this.y = -this.y;\r\n        this.z = -this.z;\r\n        return this;\r\n    }\r\n\r\n    add(rhs){\r\n        this.x += rhs.x;\r\n        this.y += rhs.y;\r\n        this.z += rhs.z;\r\n        return this;\r\n    }\r\n\r\n    sub(rhs){\r\n        this.x -= rhs.x;\r\n        this.y -= rhs.y;\r\n        this.z -= rhs.z;\r\n        return this;\r\n    }\r\n\r\n    multiply(rhs){\r\n        this.x *= rhs.x;\r\n        this.y *= rhs.y;\r\n        this.z *= rhs.z;\r\n        return this;\r\n    }\r\n\r\n    scale(s){\r\n        this.x *= s;\r\n        this.y *= s;\r\n        this.z *= s;\r\n        return this;\r\n    }\r\n\r\n    normalize(){\r\n        let lensq =this.x*this.x+this.y*this.y+this.z*this.z;\r\n        if(lensq > 0){\r\n           let g = 1/Math.sqrt(lensq);\r\n           this.x *= g;\r\n           this.y *= g;\r\n           this.z *= g;\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    static copyTo(src, dst){\r\n        dst.x = src.x;\r\n        dst.y = src.y;\r\n        dst.z = src.z;\r\n        return dst;\r\n    }\r\n\r\n    static negativeTo(src, dst){\r\n        dst.x = -src.x;\r\n        dst.y = -src.y;\r\n        dst.z = -src.z;\r\n        return dst;\r\n    }\r\n\r\n    static add(a, b, dst){\r\n        dst.x = a.x + b.x;\r\n        dst.y = a.y + b.y;\r\n        dst.z = a.z + b.z;\r\n        return dst;\r\n    }\r\n\r\n    static sub(a, b, dst){\r\n        dst.x = a.x - b.x;\r\n        dst.y = a.y - b.y;\r\n        dst.z = a.z - b.z;\r\n        return dst;\r\n    }\r\n\r\n    static multiply(a, b, dst){\r\n        dst.x = a.x * b.x;\r\n        dst.y = a.y * b.y;\r\n        dst.z = a.z * b.z;\r\n        return dst;\r\n    }\r\n\r\n    static scaleTo(a, s, dst){\r\n        dst.x = a.x * s;\r\n        dst.y = a.y * s;\r\n        dst.z = a.z * s;\r\n        return dst;\r\n    }\r\n\r\n    static dot(a, b){\r\n        return a.x * b.x + a.y * b.y + a.z * b.z;\r\n    }\r\n\r\n    static cross(a, b, dst){\r\n        dst.x = a.y * b.z - a.z * b.y;\r\n        dst.y = a.z * b.x - a.x * b.z;\r\n        dst.z = a.x * b.y - a.y * b.x;\r\n        return dst;\r\n    }\r\n\r\n    static lerp(a, b, f, dst){\r\n        dst.x = a.x + (b.x-a.x)*f;\r\n        dst.y = a.y + (b.y-a.y)*f;\r\n        dst.z = a.z + (b.z-a.z)*f;\r\n        return dst;\r\n    }\r\n\r\n    static distance(a,b){\r\n        let dx = a.x - b.x;\r\n        let dy = a.y - b.y;\r\n        let dz = a.z - b.z;\r\n        return Math.sqrt(dx*dx+dy*dy+dz*dz);\r\n    }\r\n\r\n    static distanceSquare(a,b){\r\n        let dx = a.x - b.x;\r\n        let dy = a.y - b.y;\r\n        let dz = a.z - b.z;\r\n        return dx*dx+dy*dy+dz*dz;\r\n    }\r\n}\r\n\r\nVector3.Right = new Vector3(1, 0, 0);\r\nVector3.Up = new Vector3(0, 1, 0);\r\n\r\nexport { Vector3 };","import { Vector3 } from \"../../src/math/vector3\";\r\n\r\nlet obj_file_capsule = './models/capsule.obj';\r\nlet obj_file_sphere = './models/sphere.obj';\r\nlet obj_main_texture = './imgs/wall01_diffuse.jpg';\r\nlet obj_normal_map = './imgs/wall01_normal.jpg';\r\nlet box_main_texture = './imgs/box_diffuse.jpg';\r\nlet box_normal_map = './imgs/box_normal.jpg';\r\nlet plane_main_texture = './imgs/wall02_diffuse.png';\r\nlet plane_normal_map = './imgs/wall02_normal.png';\r\nlet brick_main_texture = './imgs/brickwall_diffuse.jpg';\r\nlet brick_normal_map = './imgs/brickwall_normal.jpg';\r\nlet proj_texture = './imgs/t1.png';\r\n\r\nclass AppNormalMap {\r\n    constructor() {             \r\n        this._time = 0;     \r\n        this._rotX = 0;\r\n        this._rotY = 0;           \r\n        this._tempQuat = new mini3d.Quaternion();\r\n        this._tempVec3 = new mini3d.Vector3();\r\n    }\r\n\r\n    onInit() {\r\n        let assetList = [\r\n            [obj_file_capsule, mini3d.AssetType.Text],\r\n            [obj_file_sphere, mini3d.AssetType.Text],\r\n            [obj_main_texture, mini3d.AssetType.Image],\r\n            [obj_normal_map, mini3d.AssetType.Image],\r\n            [box_main_texture, mini3d.AssetType.Image],\r\n            [box_normal_map, mini3d.AssetType.Image],\r\n            [plane_main_texture, mini3d.AssetType.Image],\r\n            [plane_normal_map, mini3d.AssetType.Image],\r\n            [brick_main_texture, mini3d.AssetType.Image],\r\n            [brick_normal_map, mini3d.AssetType.Image],\r\n            [proj_texture, mini3d.AssetType.Image]\r\n        ]\r\n\r\n        mini3d.assetManager.loadAssetList(assetList, function () {            \r\n            this.start();\r\n        }.bind(this));\r\n    }\r\n\r\n    onResize(width, height) {\r\n        if (this._scene) {\r\n            this._scene.onScreenResize(width, height);\r\n        }\r\n    }    \r\n\r\n    start() {\r\n        this.createWorld();\r\n        \r\n        mini3d.eventManager.addEventHandler(mini3d.SystemEvent.touchMove, function (event, data) {            \r\n            let dx = data.dx;\r\n            let dy = data.dy;\r\n\r\n            let clampAngle = function (angle, min, max) {\r\n                if (angle < -360) angle += 360;\r\n                if (angle > 360) angle -= 360;\r\n                return Math.max(Math.min(angle, max), min);\r\n            }\r\n            this._rotX = clampAngle(this._rotX + dy, -90.0, 90.0);\r\n            this._rotY += dx;\r\n\r\n            //先旋转qy,再旋转qx\r\n            let qx = mini3d.Quaternion.axisAngle(mini3d.Vector3.Right, this._rotX);\r\n            let qy = mini3d.Quaternion.axisAngle(mini3d.Vector3.Up, this._rotY);\r\n            mini3d.Quaternion.multiply(qx, qy, this._tempQuat);\r\n            this._mesh1.localRotation = this._tempQuat;\r\n            this._mesh2.localRotation = this._tempQuat;\r\n\r\n        }.bind(this));\r\n    }\r\n\r\n    createGround(){\r\n        let groundMesh = mini3d.Plane.createMesh(20, 10, 20, 10);\r\n        let matGround = new mini3d.MatNormalMap();\r\n        matGround.mainTexture = mini3d.textureManager.getTexture(plane_main_texture);\r\n        matGround.mainTexture.setRepeat();\r\n        matGround.mainTextureST = [3,3,0,0];\r\n        matGround.normalMap = mini3d.textureManager.getTexture(plane_normal_map);\r\n        matGround.normalMap.setRepeat();\r\n        matGround.normalMapST = [3,3,0,0];\r\n        matGround.specular = [0.8, 0.8, 0.8];\r\n        let groundNode = this._scene.root.addMeshNode(groundMesh, matGround);\r\n        groundNode.localPosition.set(0,0,0); \r\n    }\r\n\r\n    createWall(){\r\n        let wallMesh = mini3d.Plane.createMesh(20, 10, 20, 10);\r\n        let matWall = new mini3d.MatNormalMap();\r\n        matWall.mainTexture =  mini3d.textureManager.getTexture(brick_main_texture);\r\n        matWall.mainTexture.setRepeat();\r\n        matWall.mainTextureST = [3,3,0,0];\r\n        matWall.normalMap = mini3d.textureManager.getTexture(brick_normal_map);\r\n        matWall.normalMap.setRepeat();\r\n        matWall.normalMapST = [3,3,0,0];\r\n        matWall.specular = [0.8, 0.8, 0.8];\r\n        return this._scene.root.addMeshNode(wallMesh, matWall);\r\n    }\r\n\r\n    createWorld() {\r\n\r\n        // Load meshes\r\n        let capusleData = mini3d.assetManager.getAsset(obj_file_capsule).data;\r\n        let capusleMesh = mini3d.objFileLoader.load(capusleData, 1.0, true);\r\n\r\n        let sphereData = mini3d.assetManager.getAsset(obj_file_sphere).data;\r\n        let sphereMesh = mini3d.objFileLoader.load(sphereData, 1.0, true);\r\n\r\n        \r\n        // Create scene\r\n        this._scene = new mini3d.Scene();\r\n\r\n        // Create the ground\r\n        this.createGround();  \r\n        \r\n        // Create walls\r\n        let wall1 = this.createWall();\r\n        wall1.localPosition.set(0, 5, -5);\r\n        wall1.localRotation.setFromEulerAngles(new Vector3(90,0,0));\r\n        \r\n\r\n        // Create an empty mesh root node\r\n        let meshRoot = this._scene.root.addEmptyNode();        \r\n        //meshRoot.localPosition.set(-1, 1, 1);\r\n        //meshRoot.localScale.set(0.8, 1, 1);\r\n        //meshRoot.localRotation.setFromAxisAngle(new mini3d.Vector3(0, 1, 0), 45);\r\n\r\n        // Create mesh node 1\r\n        let material1 = new mini3d.MatNormalMap();\r\n        material1.mainTexture = mini3d.textureManager.getTexture(obj_main_texture);\r\n        material1.normalMap = mini3d.textureManager.getTexture(obj_normal_map);        \r\n        material1.colorTint = [1.0, 1.0, 1.0];\r\n        material1.specular = [0.8, 0.8, 0.8];\r\n\r\n        this._mesh1 = meshRoot.addMeshNode(capusleMesh, material1);\r\n        this._mesh1.localPosition.set(1, 1, 0);        \r\n        \r\n        // Create mesh node 2\r\n        let material2 = new mini3d.MatNormalMapW();\r\n        material2.mainTexture = mini3d.textureManager.getTexture(box_main_texture);\r\n        material2.normalMap = mini3d.textureManager.getTexture(box_normal_map);        \r\n        material2.colorTint = [1.0, 1.0, 1.0];\r\n        material2.specular = [0.8, 0.8, 0.8];\r\n        material2.gloss = 10;\r\n\r\n        this._mesh2 = meshRoot.addMeshNode(mini3d.Cube.createMesh(), material2);\r\n        this._mesh2.localPosition.set(-1, 1, 0);\r\n        this._mesh2.localScale.set(0.8, 0.8, 0.8);\r\n        \r\n        // Add a directional light node to scene        \r\n        let mainLight = this._scene.root.addDirectionalLight([0.8,0.8,0.8]);\r\n        //this._tempQuat.setFromEulerAngles(this._tempVec3.set(135,-45,0));\r\n        //mainLight.localRotation = this._tempQuat;\r\n        mainLight.lookAt(this._tempVec3.set(-1,-1,-1));\r\n\r\n        // Add point light 1\r\n        let lightColor = [0.05,0.05,0.05];\r\n        let pointLight = this._scene.root.addPointLight(lightColor,10);\r\n        pointLight.localPosition.set(-5, 6, 0);\r\n        let lightball = pointLight.addMeshNode(sphereMesh, new mini3d.MatSolidColor([0.9,0.9,0.9])); //点光源身上放一个小球以显示他的位置   \r\n        lightball.localScale.set(0.2,0.2,0.2);\r\n        this._pointLight1 = pointLight;             \r\n\r\n        // Add point light 2\r\n        lightColor = [0.05,0.05,0.05];\r\n        pointLight = this._scene.root.addPointLight(lightColor,10);\r\n        pointLight.localPosition.set(5, 6, 0);\r\n        lightball = pointLight.addMeshNode(sphereMesh, new mini3d.MatSolidColor([0.9,0.9,0.9]));\r\n        lightball.localScale.set(0.2,0.2,0.2);\r\n        this._pointLight2 = pointLight;\r\n\r\n        // Add a perspective camera\r\n        this._cameraNode = this._scene.root.addPerspectiveCamera(60, mini3d.canvas.width / mini3d.canvas.height, 1.0, 1000);        \r\n        this._cameraNode.localPosition.set(0, 2, 6);\r\n        this._cameraNode.lookAt(new mini3d.Vector3(0, 1, 0));\r\n        this._cameraNode.camera.clearColor = [0.34,0.98,1];\r\n\r\n        // Add projector\r\n        //this._projector = this._scene.root.addProjector(60, 1.0, 1.0, 1000.0);\r\n        //this._projector.localPosition.set(0, 3, 0);\r\n        //this._projector.lookAt(new mini3d.Vector3(0, 0, 0));\r\n        //this._projector.projector.material.projTexture = mini3d.textureManager.getTexture(proj_texture);\r\n\r\n    }\r\n\r\n    onUpdate(dt) {\r\n        if (this._scene) {\r\n            this._time += dt;\r\n            this._scene.update();             \r\n           \r\n            //灯光做圆周运动\r\n            let cosv = Math.cos(this._time/1500);\r\n            let sinv = Math.sin(this._time/1500);\r\n            let radius = 5;\r\n            \r\n            this._pointLight1.localPosition.x = radius*cosv*cosv;\r\n            this._pointLight1.localPosition.z = radius*sinv*cosv;\r\n            this._pointLight1.localPosition.y = 0.5 + radius*(0.5+0.5*sinv)*0.5;\r\n            this._pointLight1.setTransformDirty();\r\n\r\n            this._pointLight2.localPosition.x = -radius*cosv*cosv;\r\n            this._pointLight2.localPosition.z = -radius*sinv*cosv;\r\n            this._pointLight2.localPosition.y = 0.5 + radius*(0.5+0.5*sinv)*0.5;\r\n            this._pointLight2.setTransformDirty();\r\n\r\n            //move projector\r\n            //this._projector.localPosition.x = radius*cosv;\r\n            ////this._projector.localPosition.z = radius*sinv;\r\n            ////this._projector.localRotation.setFromEulerAngles(new mini3d.Vector3(60*sinv,0,0));\r\n            //this._projector.setTransformDirty();\r\n\r\n            this._scene.render();\r\n        }\r\n    }\r\n}\r\n\r\nexport default AppNormalMap;","import { Vector3 } from \"../../src/math/vector3\";\r\n\r\nlet obj_file_sphere = './models/sphere.obj';\r\nlet box_main_texture = './imgs/box_diffuse.jpg';\r\nlet box_normal_map = './imgs/box_normal.jpg';\r\nlet plane_main_texture = './imgs/wall02_diffuse.png';\r\nlet plane_normal_map = './imgs/wall02_normal.png';\r\nlet brick_main_texture = './imgs/brickwall_diffuse.jpg';\r\nlet brick_normal_map = './imgs/brickwall_normal.jpg';\r\n\r\nclass AppMirror {\r\n    constructor() {             \r\n        this._time = 0;     \r\n        this._rotX = 0;\r\n        this._rotY = 0;           \r\n        this._tempQuat = new mini3d.Quaternion();\r\n        this._tempVec3 = new mini3d.Vector3();\r\n    }\r\n\r\n    onInit() {\r\n        let assetList = [\r\n            [obj_file_sphere, mini3d.AssetType.Text],\r\n            [box_main_texture, mini3d.AssetType.Image],\r\n            [box_normal_map, mini3d.AssetType.Image],\r\n            [plane_main_texture, mini3d.AssetType.Image],\r\n            [plane_normal_map, mini3d.AssetType.Image],\r\n            [brick_main_texture, mini3d.AssetType.Image],\r\n            [brick_normal_map, mini3d.AssetType.Image]\r\n        ]\r\n\r\n        mini3d.assetManager.loadAssetList(assetList, function () {            \r\n            this.start();\r\n        }.bind(this));\r\n    }\r\n\r\n    onResize(width, height) {\r\n        if (this._scene) {\r\n            this._scene.onScreenResize(width, height);\r\n        }\r\n    }    \r\n\r\n    start() {\r\n        this.createWorld();\r\n        \r\n        mini3d.eventManager.addEventHandler(mini3d.SystemEvent.touchMove, function (event, data) {            \r\n            let dx = data.dx;\r\n            let dy = data.dy;\r\n\r\n            let clampAngle = function (angle, min, max) {\r\n                if (angle < -360) angle += 360;\r\n                if (angle > 360) angle -= 360;\r\n                return Math.max(Math.min(angle, max), min);\r\n            }\r\n            this._rotX = clampAngle(this._rotX + dy, -90.0, 90.0);\r\n            this._rotY += dx;\r\n\r\n            let qx = mini3d.Quaternion.axisAngle(mini3d.Vector3.Right, this._rotX);\r\n            let qy = mini3d.Quaternion.axisAngle(mini3d.Vector3.Up, this._rotY);\r\n            mini3d.Quaternion.multiply(qx, qy, this._tempQuat);\r\n\r\n            this._mirror.localRotation = this._tempQuat;            \r\n\r\n        }.bind(this));\r\n    }\r\n\r\n    createGround(){\r\n        let groundMesh = mini3d.Plane.createMesh(20, 10, 20, 10);\r\n        let matGround = new mini3d.MatNormalMap();\r\n        matGround.mainTexture = mini3d.textureManager.getTexture(plane_main_texture);\r\n        matGround.mainTexture.setRepeat();\r\n        matGround.mainTextureST = [3,3,0,0];\r\n        matGround.normalMap = mini3d.textureManager.getTexture(plane_normal_map);\r\n        matGround.normalMap.setRepeat();\r\n        matGround.normalMapST = [3,3,0,0];\r\n        matGround.specular = [0.8, 0.8, 0.8];\r\n        let groundNode = this._scene.root.addMeshNode(groundMesh, matGround);\r\n        groundNode.localPosition.set(0,0,0); \r\n    }\r\n\r\n    createWall(){\r\n        let wallMesh = mini3d.Plane.createMesh(10, 10, 10, 10);\r\n        let matWall = new mini3d.MatNormalMap();\r\n        matWall.mainTexture =  mini3d.textureManager.getTexture(brick_main_texture);\r\n        matWall.mainTexture.setRepeat();\r\n        matWall.mainTextureST = [3,3,0,0];\r\n        matWall.normalMap = mini3d.textureManager.getTexture(brick_normal_map);\r\n        matWall.normalMap.setRepeat();\r\n        matWall.normalMapST = [3,3,0,0];\r\n        matWall.specular = [0.8, 0.8, 0.8];\r\n        return this._scene.root.addMeshNode(wallMesh, matWall);\r\n    }\r\n\r\n    createMirror(texture){\r\n        let mirrorRoot = this._scene.root.addEmptyNode();\r\n        let mirrorMesh = mini3d.Plane.createMesh(6,3,6,3);\r\n        let matMirror = new mini3d.MatMirror();\r\n        matMirror.mainTexture = texture;\r\n        let node = mirrorRoot.addMeshNode(mirrorMesh, matMirror);\r\n        node.localRotation.setFromEulerAngles(this._tempVec3.set(90,0,0));\r\n        \r\n        mirrorRoot.localPosition.set(0, 2, -4);\r\n        return mirrorRoot;\r\n    }\r\n\r\n    createWorld() {\r\n\r\n        // Load meshes\r\n        let sphereData = mini3d.assetManager.getAsset(obj_file_sphere).data;\r\n        let sphereMesh = mini3d.objFileLoader.load(sphereData, 1.0, true);\r\n\r\n        \r\n        // Create scene\r\n        this._scene = new mini3d.Scene();        \r\n\r\n        // Create the ground\r\n        this.createGround();  \r\n        \r\n        // Create walls\r\n        let wall1 = this.createWall();\r\n        wall1.localPosition.set(0, 5, -5);\r\n        wall1.localRotation.setFromEulerAngles(new Vector3(90,0,0));\r\n        let wall2 = this.createWall();\r\n        wall2.localPosition.set(-5, 5, 0);\r\n        wall2.localRotation.setFromEulerAngles(new Vector3(90,90,0));\r\n        let wall3 = this.createWall();\r\n        wall3.localPosition.set(5, 5, 0);\r\n        wall3.localRotation.setFromEulerAngles(new Vector3(90,-90,0));\r\n        let wall4 = this.createWall();\r\n        wall4.localPosition.set(0, 5, 5);\r\n        wall4.localRotation.setFromEulerAngles(new Vector3(90,180,0));\r\n        \r\n\r\n        // Create an empty mesh root node\r\n        let meshRoot = this._scene.root.addEmptyNode();        \r\n        //meshRoot.localPosition.set(-1, 1, 1);\r\n        //meshRoot.localScale.set(0.8, 1, 1);\r\n        //meshRoot.localRotation.setFromAxisAngle(new mini3d.Vector3(0, 1, 0), 45);    \r\n        \r\n        // Create box\r\n        let matBox = new mini3d.MatNormalMapW();\r\n        matBox.mainTexture = mini3d.textureManager.getTexture(box_main_texture);\r\n        matBox.normalMap = mini3d.textureManager.getTexture(box_normal_map);        \r\n        matBox.colorTint = [1.0, 1.0, 1.0];\r\n        matBox.specular = [0.8, 0.8, 0.8];\r\n        matBox.gloss = 10;\r\n\r\n        let box = meshRoot.addMeshNode(mini3d.Cube.createMesh(), matBox);\r\n        box.localPosition.set(-1, 1, 0);\r\n        box.localScale.set(0.8, 0.8, 0.8);\r\n        this._box = box;\r\n\r\n        // Create ball\r\n        let matBall = new mini3d.MatNormalMap();\r\n        matBall.mainTexture = mini3d.textureManager.getTexture(plane_main_texture);\r\n        matBall.normalMap = mini3d.textureManager.getTexture(plane_normal_map);        \r\n        matBall.colorTint = [1.0, 1.0, 1.0];\r\n        matBall.specular = [0.8, 0.8, 0.8];\r\n        let ball = box.addMeshNode(sphereMesh, matBall);\r\n        ball.localPosition.set(0, 1.5, 0);  \r\n        \r\n        // ball2\r\n        let matBall2 = new mini3d.MatPixelLight();\r\n        matBall2.mainTexture = mini3d.textureManager.getTexture(box_main_texture);        \r\n        matBall2.colorTint = [1.0, 1.0, 1.0];\r\n        matBall2.specular = [0.8, 0.8, 0.8];\r\n        let ball2 = meshRoot.addMeshNode(sphereMesh, matBall2);\r\n        ball2.localPosition.set(1, 2, -1); \r\n        this._ball2 = ball2; \r\n        \r\n        // Add a directional light node to scene        \r\n        let mainLight = this._scene.root.addDirectionalLight([0.8,0.8,0.8]);\r\n        //this._tempQuat.setFromEulerAngles(this._tempVec3.set(135,-45,0));\r\n        //mainLight.localRotation = this._tempQuat;\r\n        mainLight.lookAt(this._tempVec3.set(-1,-1,-1));\r\n\r\n        // Add point light 1\r\n        let lightColor = [0.0,0.05,0.0];\r\n        let pointLight = this._scene.root.addPointLight(lightColor,10);\r\n        pointLight.localPosition.set(-5, 6, 0);\r\n        let lightball = pointLight.addMeshNode(sphereMesh, new mini3d.MatSolidColor([0.5,0.9,0.5])); //点光源身上放一个小球以显示他的位置   \r\n        lightball.localScale.set(0.2,0.2,0.2);\r\n        this._pointLight1 = pointLight;             \r\n\r\n        // Add point light 2\r\n        lightColor = [0.05,0.0,0.0];\r\n        pointLight = this._scene.root.addPointLight(lightColor,10);\r\n        pointLight.localPosition.set(5, 6, 0);\r\n        lightball = pointLight.addMeshNode(sphereMesh, new mini3d.MatSolidColor([0.9,0.5,0.5]));\r\n        lightball.localScale.set(0.2,0.2,0.2);\r\n        this._pointLight2 = pointLight;\r\n\r\n        // Add a perspective camera\r\n        this._cameraNode = this._scene.root.addPerspectiveCamera(60, mini3d.canvas.width / mini3d.canvas.height, 1.0, 1000);        \r\n        this._cameraNode.localPosition.set(-1, 4, 5);\r\n        this._cameraNode.lookAt(new mini3d.Vector3(0, 1, 0));\r\n        this._cameraNode.camera.clearColor = [0.34,0.98,1];\r\n\r\n        // Add a render texture and mirror node\r\n        let mirrorWidth = 2048;\r\n        let mirrorHeight = 1024;\r\n        this._renderTexture = new mini3d.RenderTexture(mirrorWidth,mirrorHeight);\r\n        let mirror = this.createMirror(this._renderTexture.texture2D);\r\n        this._mirror = mirror;\r\n        // Add a camera to the mirror\r\n        this._renderCamera = mirror.addPerspectiveCamera(60, mirrorWidth/mirrorHeight, 0.2, 100);        \r\n        // //说明：因为Plane创建是顶点分布在本地坐标系的xz平面上的,因此镜子默认是面朝本地+y的，为了将镜子立起来绕x轴旋转了90度\r\n        // //这样camera挂到镜子结点上，如果不做任何旋转，其本地z轴是冲着世界-y轴的，且由于camera是看向本地-z的\r\n        // //所以直接挂上camera是看着天的（世界+y)。因此此处让camera绕的本地x轴旋转90度，这样它照着世界+z，和镜子看上去的面向一致。\r\n        // //但仅仅这样还不行，因为这样camera的up方向是指向世界-y,照到的世界是倒着的。因此要先让camera绕本地z轴旋转180度。\r\n        // //注：引擎中欧拉角转四元数是按ZXY顺序\r\n        // //（ps:未来可能应该把引擎生成的平面的朝向改成+z)\r\n        // this._renderCamera.localRotation.setFromEulerAngles(this._tempVec3.set(90,0,180));\r\n        // //上面使用欧拉角太麻烦，因为没有编辑器可以边转边看，由于此次我们知道镜子相机朝向的世界位置是+z，因此可以直接使用lookAt\r\n        // //但这个方法不适用于制作预制件，或者不知道将要把镜子朝哪儿放的情况\r\n        //this._renderCamera.lookAt(new mini3d.Vector3(0, 0, 1));\r\n\r\n        //更新：我给镜子加了一个空的父节点，然后把camera挂到这个父节点上，这样只要把camera的z轴调转就行了。。\r\n        //保留上面的注释吧，使用欧拉角确实麻烦，还是应该让所有模型的朝向一致\r\n        this._renderCamera.localRotation.setFromEulerAngles(this._tempVec3.set(0,180,0));\r\n\r\n        this._renderCamera.camera.clearColor = [0.34,0.98,1];\r\n        this._renderCamera.camera.target = this._renderTexture;\r\n\r\n    }\r\n\r\n    onUpdate(dt) {\r\n        if (this._scene) {\r\n            this._time += dt;\r\n            this._scene.update();             \r\n           \r\n            //灯光做圆周运动\r\n            let cosv = Math.cos(this._time/1500);\r\n            let sinv = Math.sin(this._time/1500);\r\n            let radius = 5;\r\n            \r\n            this._pointLight1.localPosition.x = radius*cosv*cosv;\r\n            this._pointLight1.localPosition.z = radius*sinv*cosv;\r\n            this._pointLight1.localPosition.y = 0.5 + radius*(0.5+0.5*sinv)*0.5;\r\n            this._pointLight1.setTransformDirty();\r\n\r\n            this._pointLight2.localPosition.x = -radius*cosv*cosv;\r\n            this._pointLight2.localPosition.z = -radius*sinv*cosv;\r\n            this._pointLight2.localPosition.y = 0.5 + radius*(0.5+0.5*sinv)*0.5;\r\n            this._pointLight2.setTransformDirty();\r\n\r\n            this._box.localRotation = this._tempQuat.setFromEulerAngles(this._tempVec3.set(10*cosv, 10*sinv, 0));\r\n            this._ball2.localPosition.y = 0.5 + radius*(0.5+0.5*sinv)*0.5;\r\n            this._ball2.setTransformDirty();\r\n            \r\n            this._scene.render();\r\n        }\r\n    }\r\n}\r\n\r\nexport default AppMirror;","import { Vector3 } from \"../../src/math/vector3\";\r\n\r\nlet obj_file_capsule = './models/capsule.obj';\r\nlet obj_file_sphere = './models/sphere.obj';\r\nlet obj_main_texture = './imgs/wall01_diffuse.jpg';\r\nlet obj_normal_map = './imgs/wall01_normal.jpg';\r\nlet box_main_texture = './imgs/box_diffuse.jpg';\r\nlet box_normal_map = './imgs/box_normal.jpg';\r\nlet plane_main_texture = './imgs/wall02_diffuse.png';\r\nlet plane_normal_map = './imgs/wall02_normal.png';\r\nlet brick_main_texture = './imgs/brickwall_diffuse.jpg';\r\nlet brick_normal_map = './imgs/brickwall_normal.jpg';\r\n\r\nclass AppPostProcessing {\r\n    constructor() {             \r\n        this._time = 0;     \r\n        this._rotX = 0;\r\n        this._rotY = 0;           \r\n        this._tempQuat = new mini3d.Quaternion();\r\n        this._tempVec3 = new mini3d.Vector3();\r\n    }\r\n\r\n    onInit() {\r\n        let assetList = [\r\n            [obj_file_capsule, mini3d.AssetType.Text],\r\n            [obj_file_sphere, mini3d.AssetType.Text],\r\n            [obj_main_texture, mini3d.AssetType.Image],\r\n            [obj_normal_map, mini3d.AssetType.Image],\r\n            [box_main_texture, mini3d.AssetType.Image],\r\n            [box_normal_map, mini3d.AssetType.Image],\r\n            [plane_main_texture, mini3d.AssetType.Image],\r\n            [plane_normal_map, mini3d.AssetType.Image],\r\n            [brick_main_texture, mini3d.AssetType.Image],\r\n            [brick_normal_map, mini3d.AssetType.Image]\r\n        ]\r\n\r\n        mini3d.assetManager.loadAssetList(assetList, function () {            \r\n            this.start();\r\n        }.bind(this));\r\n    }\r\n\r\n    onResize(width, height) {\r\n        if (this._scene) {\r\n            this._scene.onScreenResize(width, height);\r\n        }\r\n    }    \r\n\r\n    start() {\r\n        this.createWorld();\r\n        \r\n        mini3d.eventManager.addEventHandler(mini3d.SystemEvent.touchMove, function (event, data) {            \r\n            let dx = data.dx;\r\n            let dy = data.dy;\r\n\r\n            let clampAngle = function (angle, min, max) {\r\n                if (angle < -360) angle += 360;\r\n                if (angle > 360) angle -= 360;\r\n                return Math.max(Math.min(angle, max), min);\r\n            }\r\n            this._rotX = clampAngle(this._rotX + dy, -90.0, 90.0);\r\n            this._rotY += dx;\r\n\r\n            //先旋转qy,再旋转qx\r\n            let qx = mini3d.Quaternion.axisAngle(mini3d.Vector3.Right, this._rotX);\r\n            let qy = mini3d.Quaternion.axisAngle(mini3d.Vector3.Up, this._rotY);\r\n            mini3d.Quaternion.multiply(qx, qy, this._tempQuat);\r\n            this._mesh1.localRotation = this._tempQuat;\r\n            this._mesh2.localRotation = this._tempQuat;\r\n\r\n        }.bind(this));\r\n    }\r\n\r\n    createGround(){\r\n        let groundMesh = mini3d.Plane.createMesh(20, 10, 20, 10);\r\n        let matGround = new mini3d.MatNormalMap();\r\n        matGround.mainTexture = mini3d.textureManager.getTexture(plane_main_texture);\r\n        matGround.mainTexture.setRepeat();\r\n        matGround.mainTextureST = [3,3,0,0];\r\n        matGround.normalMap = mini3d.textureManager.getTexture(plane_normal_map);\r\n        matGround.normalMap.setRepeat();\r\n        matGround.normalMapST = [3,3,0,0];\r\n        matGround.specular = [0.5, 0.5, 0.5];\r\n        let groundNode = this._scene.root.addMeshNode(groundMesh, matGround);\r\n        groundNode.localPosition.set(0,0,0); \r\n    }\r\n\r\n    createWall(){\r\n        let wallMesh = mini3d.Plane.createMesh(20, 10, 20, 10);\r\n        let matWall = new mini3d.MatNormalMap();\r\n        matWall.mainTexture =  mini3d.textureManager.getTexture(brick_main_texture);\r\n        matWall.mainTexture.setRepeat();\r\n        matWall.mainTextureST = [3,3,0,0];\r\n        matWall.normalMap = mini3d.textureManager.getTexture(brick_normal_map);\r\n        matWall.normalMap.setRepeat();\r\n        matWall.normalMapST = [3,3,0,0];\r\n        matWall.specular = [0.8, 0.8, 0.8];\r\n        return this._scene.root.addMeshNode(wallMesh, matWall);\r\n    }\r\n\r\n    createWorld() {\r\n\r\n        // Load meshes\r\n        let capusleData = mini3d.assetManager.getAsset(obj_file_capsule).data;\r\n        let capusleMesh = mini3d.objFileLoader.load(capusleData, 1.0, true);\r\n\r\n        let sphereData = mini3d.assetManager.getAsset(obj_file_sphere).data;\r\n        let sphereMesh = mini3d.objFileLoader.load(sphereData, 1.0, true);\r\n\r\n        \r\n        // Create scene\r\n        this._scene = new mini3d.Scene();\r\n\r\n        // Create the ground\r\n        this.createGround();  \r\n        \r\n        // Create walls\r\n        let wall1 = this.createWall();\r\n        wall1.localPosition.set(0, 5, -5);\r\n        wall1.localRotation.setFromEulerAngles(new Vector3(90,0,0));\r\n        \r\n\r\n        // Create an empty mesh root node\r\n        let meshRoot = this._scene.root.addEmptyNode();        \r\n        //meshRoot.localPosition.set(-1, 1, 1);\r\n        //meshRoot.localScale.set(0.8, 1, 1);\r\n        //meshRoot.localRotation.setFromAxisAngle(new mini3d.Vector3(0, 1, 0), 45);\r\n\r\n        // Create mesh node 1\r\n        let material1 = new mini3d.MatNormalMap();\r\n        material1.mainTexture = mini3d.textureManager.getTexture(obj_main_texture);\r\n        material1.normalMap = mini3d.textureManager.getTexture(obj_normal_map);        \r\n        material1.colorTint = [1.0, 1.0, 1.0];\r\n        material1.specular = [0.8, 0.8, 0.8];\r\n\r\n        this._mesh1 = meshRoot.addMeshNode(capusleMesh, material1);\r\n        this._mesh1.localPosition.set(1.5, 1, 0);        \r\n        \r\n        // Create mesh node 2\r\n        let material2 = new mini3d.MatNormalMapW();\r\n        material2.mainTexture = mini3d.textureManager.getTexture(box_main_texture);\r\n        material2.normalMap = mini3d.textureManager.getTexture(box_normal_map);        \r\n        material2.colorTint = [1.0, 1.0, 1.0];\r\n        material2.specular = [0.8, 0.8, 0.8];\r\n        material2.gloss = 10;\r\n\r\n        this._mesh2 = meshRoot.addMeshNode(mini3d.Cube.createMesh(), material2);\r\n        this._mesh2.localPosition.set(-1.5, 1, 0);\r\n        this._mesh2.localScale.set(0.8, 0.8, 0.8);\r\n        \r\n        // Add a directional light node to scene        \r\n        let mainLight = this._scene.root.addDirectionalLight([0.8,0.8,0.8]);\r\n        //this._tempQuat.setFromEulerAngles(this._tempVec3.set(135,-45,0));\r\n        //mainLight.localRotation = this._tempQuat;\r\n        mainLight.lookAt(this._tempVec3.set(-1,-1,-1));\r\n\r\n        // Add point light 1\r\n        let lightColor = [0.05,0.05,0.05];\r\n        let pointLight = this._scene.root.addPointLight(lightColor,10);\r\n        pointLight.localPosition.set(-5, 6, 0);\r\n        let lightball = pointLight.addMeshNode(sphereMesh, new mini3d.MatSolidColor([0.9,0.9,0.9])); //点光源身上放一个小球以显示他的位置   \r\n        lightball.localScale.set(0.2,0.2,0.2);\r\n        this._pointLight1 = pointLight;             \r\n\r\n        // Add point light 2\r\n        lightColor = [0.05,0.05,0.05];\r\n        pointLight = this._scene.root.addPointLight(lightColor,10);\r\n        pointLight.localPosition.set(5, 6, 0);\r\n        lightball = pointLight.addMeshNode(sphereMesh, new mini3d.MatSolidColor([0.9,0.9,0.9]));\r\n        lightball.localScale.set(0.2,0.2,0.2);\r\n        this._pointLight2 = pointLight;\r\n\r\n        // Add a perspective camera\r\n        this._cameraNode = this._scene.root.addPerspectiveCamera(60, mini3d.canvas.width / mini3d.canvas.height, 1.0, 1000);        \r\n        this._cameraNode.localPosition.set(0, 2, 6);\r\n        this._cameraNode.lookAt(new mini3d.Vector3(0, 1, 0));\r\n        this._cameraNode.camera.clearColor = [0.34,0.98,1];\r\n        \r\n        this._matPPWave = new mini3d.MatPP_Wave();\r\n        this._cameraNode.camera.addPostProcessing(new mini3d.PostEffectLayerOnePass(this._matPPWave));\r\n\r\n        let matPP;\r\n        // matPP = new mini3d.MatPP_ColorBSC();\r\n        // matPP.brightness = 0.95;\r\n        // matPP.saturation = 1.2;\r\n        // matPP.contrast = 1.0;\r\n        // this._cameraNode.camera.addPostProcessing(new mini3d.PostEffectLayerOnePass(matPP));\r\n\r\n        matPP = new mini3d.MatPP_Bloom();\r\n        let bloomEffect = new mini3d.PostEffectBloom(matPP);\r\n        bloomEffect.brightThreshold = 0.35;\r\n        bloomEffect.blurSpread = 2.0;\r\n        bloomEffect.downSample = 8;\r\n        this._cameraNode.camera.addPostProcessing(bloomEffect);\r\n        \r\n        //matPP = new mini3d.MatPP_EdgeDetection();\r\n        //matPP.edgeOnly = 1.0;\r\n        //matPP.colorEdge = [0, 0, 0];\r\n        //matPP.colorBg = [1, 1, 1];\r\n        //this._cameraNode.camera.addPostProcessing(new mini3d.PostEffectLayerOnePass(matPP));\r\n        //this._matPPEdge = matPP;\r\n\r\n        //matPP = new mini3d.MatPP_Blur();\r\n        //this._postEffectBlur = new mini3d.PostEffectBlur(matPP);\r\n        //this._cameraNode.camera.addPostProcessing(this._postEffectBlur);\r\n\r\n        // matPP = new mini3d.MatPP_Vignette();\r\n        // matPP.color = [0.1,0.1,0.9];\r\n        // matPP.intensity = 3.0;\r\n        // this._cameraNode.camera.addPostProcessing(new mini3d.PostEffectLayerOnePass(matPP));\r\n        \r\n\r\n    }\r\n\r\n    onUpdate(dt) {\r\n        if (this._scene) {\r\n            this._time += dt;\r\n            this._scene.update();    \r\n            \r\n            this._matPPWave.time = this._time*0.8/1000;\r\n\r\n            //let factor = (1 + Math.sin(this._time/2000))*0.5;\r\n            //this._matPPEdge.edgeOnly = factor;\r\n            //this._postEffectBlur.blurSpread = factor<0.2? 0: factor*0.6;\r\n           \r\n            //灯光做圆周运动\r\n            let cosv = Math.cos(this._time/1500);\r\n            let sinv = Math.sin(this._time/1500);\r\n            let radius = 5;\r\n            \r\n            this._pointLight1.localPosition.x = radius*cosv*cosv;\r\n            this._pointLight1.localPosition.z = radius*sinv*cosv;\r\n            this._pointLight1.localPosition.y = 0.5 + radius*(0.5+0.5*sinv)*0.5;\r\n            this._pointLight1.setTransformDirty();\r\n\r\n            this._pointLight2.localPosition.x = -radius*cosv*cosv;\r\n            this._pointLight2.localPosition.z = -radius*sinv*cosv;\r\n            this._pointLight2.localPosition.y = 0.5 + radius*(0.5+0.5*sinv)*0.5;\r\n            this._pointLight2.setTransformDirty();\r\n\r\n            this._scene.render();\r\n        }\r\n    }\r\n}\r\n\r\nexport default AppPostProcessing;","import AppTexturedCube from \"./AppTexturedCube\";\r\nimport AppObjLoader from \"./AppObjLoader\";\r\nimport AppSimpleScene from \"./AppSimpleScene\";\r\nimport AppNormalMap from \"./AppNormalMap\";\r\nimport AppMirror from \"./AppMirror\";\r\nimport AppPostProcessing from \"./AppPostProcessing\";\r\n\r\nfunction exampleObjLoader(){   \r\n    \r\n    let app = new AppObjLoader();\r\n    mini3d.init('webgl', app);\r\n}\r\n\r\nfunction exampleSimpleScene(){\r\n    let app = new AppSimpleScene();\r\n    mini3d.init('webgl', app);\r\n}\r\n\r\nfunction exampleNormalMap(){\r\n    let app = new AppNormalMap();\r\n    mini3d.init('webgl', app);\r\n}\r\n\r\nfunction exampleMirror(){\r\n    let app = new AppMirror();\r\n    mini3d.init('webgl', app);\r\n}\r\n\r\nfunction examplePostProcessing(){\r\n    let app = new AppPostProcessing();\r\n    mini3d.init('webgl', app);\r\n}\r\n\r\nlet examples = [\r\n    {\r\n        name:'Load .Obj Mesh',\r\n        img:'load_obj.jpg',\r\n        entry:exampleObjLoader\r\n    },\r\n    {\r\n        name:'Simple Scene & Projector',\r\n        img:'simple_scene.jpg',\r\n        entry:exampleSimpleScene\r\n    },\r\n    {\r\n        name:'Normal Map',\r\n        img:'normalmap.jpg',\r\n        entry:exampleNormalMap\r\n    },\r\n    {\r\n        name:'Mirror',\r\n        img:'mirror.jpg',\r\n        entry:exampleMirror\r\n    },\r\n    {\r\n        name:'PostProcessing',\r\n        img:'pp1.jpg',\r\n        entry:examplePostProcessing\r\n    }\r\n]\r\n\r\nexport default function main(){\r\n    return examples;\r\n}\r\n"],"names":["global","classof","IndexedObject","DESCRIPTORS","createElement","IE8_DOM_DEFINE","propertyIsEnumerableModule","definePropertyModule","nativeFunctionToString","WeakMap","has","NATIVE_WEAK_MAP","objectHas","InternalStateModule","require$$0","min","hiddenKeys","internalObjectKeys","getOwnPropertyNamesModule","getOwnPropertySymbolsModule","getOwnPropertyDescriptorModule","getOwnPropertyDescriptor","isForced","aFunction","$","bind","vs_file","fs_file","obj_file","AppObjLoader","_inited","_mesh","_shader","_viewMatrix","mini3d","Matrix4","_modelMatrix","_viewProjMatrix","_mvpMatrix","_normalMatrix","_rotationQuat","Quaternion","_matRot","_rotX","_rotY","assetList","AssetType","Text","assetManager","loadAssetList","start","setViewByLookAt","width","height","setPerspective","multiply","draw","dt","gl","vs","getAsset","data","fs","shader","Shader","create","console","log","mapAttributeSemantic","VertexSemantic","POSITION","NORMAL","use","objFileString","objFileLoader","load","that","eventManager","addEventHandler","SystemEvent","touchMove","event","factor","dx","dy","clampAngle","angle","max","Math","qx","axisAngle","Vector3","Right","qy","Up","toMatrix4","clearColor","clearDepth","enable","DEPTH_TEST","setTranslate","scale","setInverseOf","transpose","set","setUniform","elements","lightDir","clear","COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","render","obj_file_capsule","obj_file_sphere","obj_main_texture","plane_main_texture","proj_texture","AppSimpleScene","_time","_rotDegree","_tempQuat","_tempVec3","Image","_scene","onScreenResize","createWorld","copyFrom","_mesh2","localPosition","z","x","capusleData","capusleMesh","sphereData","sphereMesh","Scene","planeMesh","Plane","createMesh","matPlane","MatPixelLight","mainTexture","textureManager","getTexture","setRepeat","mainTextureST","specular","_planeNode","root","addMeshNode","planeNode2","localRotation","setFromEulerAngles","meshRoot","addEmptyNode","material1","colorTint","_mesh1","material2","gloss","localScale","mainLight","addDirectionalLight","lookAt","lightColor","pointLight","addPointLight","lightball","MatSolidColor","_pointLight1","_pointLight2","_cameraNode","addPerspectiveCamera","canvas","camera","_projector","addProjector","projector","material","projTexture","update","y","cos","math","degToRad","setTransformDirty","worldPosition","cosv","sinv","sin","radius","MathUtils","Pi","TwoPi","HalfPi","Epsilon","ZeroEpsilon","degree","rad","f","sqrt","rhs","eps","s","lensq","g","src","dst","a","b","dz","obj_normal_map","box_main_texture","box_normal_map","plane_normal_map","brick_main_texture","brick_normal_map","AppNormalMap","groundMesh","matGround","MatNormalMap","normalMap","normalMapST","groundNode","wallMesh","matWall","createGround","wall1","createWall","MatNormalMapW","Cube","AppMirror","_mirror","texture","mirrorRoot","mirrorMesh","matMirror","MatMirror","node","wall2","wall3","wall4","matBox","box","_box","matBall","ball","matBall2","ball2","_ball2","mirrorWidth","mirrorHeight","_renderTexture","RenderTexture","mirror","createMirror","texture2D","_renderCamera","target","AppPostProcessing","_matPPWave","MatPP_Wave","addPostProcessing","PostEffectLayerOnePass","matPP","MatPP_Bloom","bloomEffect","PostEffectBloom","brightThreshold","blurSpread","downSample","time","exampleObjLoader","app","init","exampleSimpleScene","exampleNormalMap","exampleMirror","examplePostProcessing","examples","name","img","entry","main"],"mappings":"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"}